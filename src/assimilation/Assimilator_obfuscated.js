var _0x486f=['Y29uY2F0','am9pbg==','bG9n','Z2VuZXJhdGVDaGVja3N1bQ==','R2VuZXJhdGluZyBjaGVja3N1bSBmb3IgQGFzc2ltaWxhdGlvbkxvY2tlZCBvYmplY3RzLi4u','c3RyaW5naWZ5','cmVwbGFjZQ==','cmVkdWNl','U3RyaW5naWZpZWQgY29kZTo=','c2hhMjU2IGhhc2g6','UGFydGlhbCBjaGVja3N1bTog','dG9TdHJpbmc=','RmluYWwgY2hlY2tzdW06ICAgICA=','RmluYWwgaGV4IGNoZWNrc3VtOiA=','cGhvbmVIb21lX21hc3Rlcg==','dGltZQ==','cmVxdWVzdFNlZ21lbnRz','bWFya1NlZ21lbnRBc1B1YmxpYw==','bWFw','dGVybWluYWxOZXR3b3Jr','YWxsVGVybWluYWxz','cm9vbQ==','bmFtZQ==','c2V0U2VnbWVudFByb3BlcnR5','Y29sb25pZXM=','bWFya2V0','aW5jb21pbmdUcmFuc2FjdGlvbnM=','ZGVzY3JpcHRpb24=','aW5jbHVkZXM=','cGFyc2U=','bGFzdA==','c3BsaXQ=','dXNlcnM=','VW5hYmxlIHRvIHBhcnNlIHBob25lIGhvbWUgbWVzc2FnZSA=','LiBFcnJvcjog','cGhvbmVIb21lX3NsYXZl','cmVxdWVzdEZvcmVpZ25TZWdtZW50','Z2V0Rm9yZWlnblNlZ21lbnQ=','Zmlyc3Q=','c2FtcGxl','cmVhZHlUZXJtaW5hbHM=','c2VuZA==','cnVu','TXVvbg==','UEhOSE06','YXNzaW1pbGF0b3I=','ZGVmYXVsdHNEZWVw','bWVtb3J5','dmFsaWRhdGU=','cHVzaA==','Z2VuZXJhdGVTdHJpbmdIYXNo','bWF0Y2g='];(function(_0x3951aa,_0x2cdee5){var _0x3e96f1=function(_0xbb9c20){while(--_0xbb9c20){_0x3951aa['push'](_0x3951aa['shift']());}};var _0x43cbd5=function(){var _0x162d2d={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2c7af4,_0x5b3412,_0x11908e,_0x485068){_0x485068=_0x485068||{};var _0x12984f=_0x5b3412+'='+_0x11908e;var _0x3b3397=0x0;for(var _0x3b3397=0x0,_0xa24d8c=_0x2c7af4['length'];_0x3b3397<_0xa24d8c;_0x3b3397++){var _0x50c1df=_0x2c7af4[_0x3b3397];_0x12984f+=';\x20'+_0x50c1df;var _0xca55e=_0x2c7af4[_0x50c1df];_0x2c7af4['push'](_0xca55e);_0xa24d8c=_0x2c7af4['length'];if(_0xca55e!==!![]){_0x12984f+='='+_0xca55e;}}_0x485068['cookie']=_0x12984f;},'removeCookie':function(){return'dev';},'getCookie':function(_0x26637d,_0x3233ec){_0x26637d=_0x26637d||function(_0x3a22f4){return _0x3a22f4;};var _0x4e92a0=_0x26637d(new RegExp('(?:^|;\x20)'+_0x3233ec['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x31033c=function(_0x43e5a2,_0x5a6967){_0x43e5a2(++_0x5a6967);};_0x31033c(_0x3e96f1,_0x2cdee5);return _0x4e92a0?decodeURIComponent(_0x4e92a0[0x1]):undefined;}};var _0x2a9d0a=function(){var _0x100ace=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x100ace['test'](_0x162d2d['removeCookie']['toString']());};_0x162d2d['updateCookie']=_0x2a9d0a;var _0x4486d0='';var _0x4948da=_0x162d2d['updateCookie']();if(!_0x4948da){_0x162d2d['setCookie'](['*'],'counter',0x1);}else if(_0x4948da){_0x4486d0=_0x162d2d['getCookie'](null,'counter');}else{_0x162d2d['removeCookie']();}};_0x43cbd5();}(_0x486f,0xc7));var _0x2f8a=function(_0x2d8272,_0x341ca0){_0x2d8272=_0x2d8272-0x0;var _0x53c6b6=_0x486f[_0x2d8272];if(_0x2f8a['ovkccY']===undefined){(function(){var _0x140d1f=function(){var _0x170245;try{_0x170245=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2c2b87){_0x170245=window;}return _0x170245;};var _0x329b32=_0x140d1f();var _0x5298d9='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x329b32['atob']||(_0x329b32['atob']=function(_0x341e14){var _0x1bb949=String(_0x341e14)['replace'](/=+$/,'');for(var _0x5f5ddc=0x0,_0xa34ce6,_0x3a1c61,_0x54ec37=0x0,_0x9c9301='';_0x3a1c61=_0x1bb949['charAt'](_0x54ec37++);~_0x3a1c61&&(_0xa34ce6=_0x5f5ddc%0x4?_0xa34ce6*0x40+_0x3a1c61:_0x3a1c61,_0x5f5ddc++%0x4)?_0x9c9301+=String['fromCharCode'](0xff&_0xa34ce6>>(-0x2*_0x5f5ddc&0x6)):0x0){_0x3a1c61=_0x5298d9['indexOf'](_0x3a1c61);}return _0x9c9301;});}());_0x2f8a['SbAIMr']=function(_0x4646b9){var _0xa50766=atob(_0x4646b9);var _0x3805bd=[];for(var _0x79558=0x0,_0xd83c0f=_0xa50766['length'];_0x79558<_0xd83c0f;_0x79558++){_0x3805bd+='%'+('00'+_0xa50766['charCodeAt'](_0x79558)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3805bd);};_0x2f8a['thxcbw']={};_0x2f8a['ovkccY']=!![];}var _0x225794=_0x2f8a['thxcbw'][_0x2d8272];if(_0x225794===undefined){var _0xef912b=function(_0x457789){this['pYpjdm']=_0x457789;this['dHTeAC']=[0x1,0x0,0x0];this['CioBvt']=function(){return'newState';};this['Bnwsvk']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['VNvdKA']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0xef912b['prototype']['qtPbzG']=function(){var _0x2329dd=new RegExp(this['Bnwsvk']+this['VNvdKA']);var _0x510832=_0x2329dd['test'](this['CioBvt']['toString']())?--this['dHTeAC'][0x1]:--this['dHTeAC'][0x0];return this['TEaFvq'](_0x510832);};_0xef912b['prototype']['TEaFvq']=function(_0x2659e3){if(!Boolean(~_0x2659e3)){return _0x2659e3;}return this['uGiHrw'](this['pYpjdm']);};_0xef912b['prototype']['uGiHrw']=function(_0x53c6b8){for(var _0x33be02=0x0,_0x1e2938=this['dHTeAC']['length'];_0x33be02<_0x1e2938;_0x33be02++){this['dHTeAC']['push'](Math['round'](Math['random']()));_0x1e2938=this['dHTeAC']['length'];}return _0x53c6b8(this['dHTeAC'][0x0]);};new _0xef912b(_0x2f8a)['qtPbzG']();_0x53c6b6=_0x2f8a['SbAIMr'](_0x53c6b6);_0x2f8a['thxcbw'][_0x2d8272]=_0x53c6b6;}else{_0x53c6b6=_0x225794;}return _0x53c6b6;};var _0x1a9a4f=function(){var _0x1c0130=!![];return function(_0x5ec504,_0x31a0e6){var _0x53d136=_0x1c0130?function(){if(_0x31a0e6){var _0x482deb=_0x31a0e6['apply'](_0x5ec504,arguments);_0x31a0e6=null;return _0x482deb;}}:function(){};_0x1c0130=![];return _0x53d136;};}();var _0x20c4a0=_0x1a9a4f(this,function(){var _0x38aabe=function(){return'\x64\x65\x76';},_0x3a189a=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x4515fe=function(){var _0x28045e=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x28045e['\x74\x65\x73\x74'](_0x38aabe['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x164637=function(){var _0x5bcf7f=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x5bcf7f['\x74\x65\x73\x74'](_0x3a189a['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x2a2ddb=function(_0xffda02){var _0x308e7f=~-0x1>>0x1+0xff%0x0;if(_0xffda02['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x308e7f)){_0x1115e8(_0xffda02);}};var _0x1115e8=function(_0x2addc3){var _0x44c519=~-0x4>>0x1+0xff%0x0;if(_0x2addc3['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x44c519){_0x2a2ddb(_0x2addc3);}};if(!_0x4515fe()){if(!_0x164637()){_0x2a2ddb('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x2a2ddb('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x2a2ddb('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x20c4a0();//
// Assimilator_obfuscated.js: this file is intentially obfuscated to prevent tampering.
//
// Q: What is assimilation?
//
// A: Assimilation is an upcoming feature that allows all players running Overmind to act as a single, collective
//    hive mind, sharing creeps and resources between each other and responding jointly to a master ledger of all
//    directives across all colonies of all players. Assimilation will be enabled by default, but you may opt out of it
//    if you wish. Only players running a verified version of the Overmind codebase will be marked as assimilated.
//
// Q: How does assimilation work and how do you verify the codebase?
//
// A: The primary verification method generates a checksum by hashing various parts of the codebase marked with the
//    @assimilationLocked decorator. Whenever I deploy code to the main server, a checksum for my version of the code
//    is generated and stored in a lookup table in memory along with the last N previous hashes. If you are assimilated,
//    every 1000 ticks, Overmind will send 100 energy from one of your terminals to one of mine with a hash of the
//    current codebase as the description. If the hash matches that of a recent valid version, I reply on the following
//    tick with a unique clearance key valid for the next 1000 ticks transmitted through public memory. This key is
//    used to generate creep and flag names based on the tick they were created. Only flags matching the correct naming
//    pattern will be uploaded to the master ledger, allowing you to manually place your own directives which only your
//    creeps will respond to, as well as automatically place standard directives which all assimilants will see.
//
// Q: Why is this file obfuscated?
//
// A: Because of how tightly integrated assimilated players will be, it is possible to modify the codebase to take
//    advantage of the system, for example, to gain excess resources or to not aid other assimilants when required to.
//    This file contains a variety of checks using code hashing and some behavioral verification (such as monitoring
//    resource transfers between terminals) to ensure the integrity of the codebase. Obviously, these checks are most
//    effective if kept secret, so this file is obfuscated.
//
// Q: What if I want to modify parts of the codebase?
//
// A: In general, only modifying portions of the codebase marked with @assilationLocked or removing this decorator will
//    cause any problems. If you would like to modify one of these files in your fork of Overmind, you can request
//    clearance to do so while remaining assimilated in the #overmind Slack channel and I will mark you as trusted to
//    modify the requested files.
//
// Q: What happens if I modify this code?
//
// A: This code is self-defending, so any modification to it will likely break the script.
// javascript-obfuscator:disable
import{sha256}from'../algorithms/sha256';import{Segmenter}from'../memory/Segmenter';import{MY_USERNAME}from'../~settings';// javascript-obfuscator:enable
let __lockedObjects__=[];let _0x5ce6efd=[];const defaultAssimilatorMemory={'users':{}};const MUON=_0x2f8a('0x0');const PHONE_HOME_SEGMENT=0x62;const PHONE_HOME_TICK=0x5f;const PHONE_HOME_FREQUENCY=0x3e8;const PHONE_HOME_HEADER=_0x2f8a('0x1');export default class _Assimilator{constructor(){if(!Memory[_0x2f8a('0x2')]){Memory[_0x2f8a('0x2')]={};}_[_0x2f8a('0x3')](Memory[_0x2f8a('0x2')],defaultAssimilatorMemory);}get[_0x2f8a('0x4')](){return Memory[_0x2f8a('0x2')];}[_0x2f8a('0x5')](_0x4ae0f5){__lockedObjects__[_0x2f8a('0x6')](_0x4ae0f5);_0x5ce6efd[_0x2f8a('0x6')](_0x4ae0f5);}[_0x2f8a('0x7')](_0x298d58,_0x2c0d77=![]){let _0xfdabe4=[];let _0x519262=_0x298d58[_0x2f8a('0x8')](/(\.[a-zA-Z]*\()/gm)||[];let _0x3bdf11=_0x298d58[_0x2f8a('0x8')](/new [a-zA-Z]*\(/gm)||[];_0xfdabe4=_0xfdabe4[_0x2f8a('0x9')](_0x519262,_0x3bdf11);let _0x392e18=_0xfdabe4[_0x2f8a('0xa')]('$');if(_0x2c0d77)console[_0x2f8a('0xb')](_0x392e18);return _0x392e18;}[_0x2f8a('0xc')](_0x5ad887=![]){let _0xb30a6e=0x0;if(_0x5ad887)console[_0x2f8a('0xb')](_0x2f8a('0xd'));for(let _0x2c6629 of _0x5ce6efd){let _0x3dba16=/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm;let _0x131ceb=JSON[_0x2f8a('0xe')](''+_0x2c6629);_0x131ceb=_0x131ceb[_0x2f8a('0xf')](_0x3dba16,'');_0x131ceb=_0x131ceb[_0x2f8a('0xf')](/\s/gm,'');let _0x2674d9=sha256(_0x131ceb);_0xb30a6e+=_0x2674d9[_0x2f8a('0x10')]((_0x62e63,_0x4856e6)=>0x2*_0x62e63+_0x4856e6);if(_0x5ad887){console[_0x2f8a('0xb')](_0x2f8a('0x11'));console[_0x2f8a('0xb')](_0x131ceb);console[_0x2f8a('0xb')](_0x2f8a('0x12'));console[_0x2f8a('0xb')](_0x2674d9);console[_0x2f8a('0xb')](_0x2f8a('0x13')+_0xb30a6e);}}let _0x3bb9e2='0x'+_0xb30a6e[_0x2f8a('0x14')](0x10);if(_0x5ad887){console[_0x2f8a('0xb')](_0x2f8a('0x15')+_0xb30a6e);console[_0x2f8a('0xb')](_0x2f8a('0x16')+_0x3bb9e2);}return _0x3bb9e2;}[_0x2f8a('0x17')](){if(Game[_0x2f8a('0x18')]%PHONE_HOME_FREQUENCY==PHONE_HOME_TICK-0x2){Segmenter[_0x2f8a('0x19')](PHONE_HOME_SEGMENT);}else if(Game[_0x2f8a('0x18')]%PHONE_HOME_FREQUENCY==PHONE_HOME_TICK-0x1){Segmenter[_0x2f8a('0x1a')](PHONE_HOME_SEGMENT);let _0x5ce0f8=_[_0x2f8a('0x1b')](Overmind[_0x2f8a('0x1c')][_0x2f8a('0x1d')],_0x1e636f=>_0x1e636f[_0x2f8a('0x1e')][_0x2f8a('0x1f')]);Segmenter[_0x2f8a('0x20')](PHONE_HOME_SEGMENT,_0x2f8a('0x21'),_0x5ce0f8);}else if(Game[_0x2f8a('0x18')]%PHONE_HOME_FREQUENCY==PHONE_HOME_TICK+0x1){for(let _0x145037 of Game[_0x2f8a('0x22')][_0x2f8a('0x23')]){if(_0x145037[_0x2f8a('0x24')]&&_0x145037[_0x2f8a('0x24')][_0x2f8a('0x25')](PHONE_HOME_HEADER)){try{let _0x5e19ab=JSON[_0x2f8a('0x26')](_[_0x2f8a('0x27')](_0x145037[_0x2f8a('0x24')][_0x2f8a('0x28')](PHONE_HOME_HEADER)));let _0x50bd4a=_0x5e19ab['U'];let _0x3472ed=_0x5e19ab['C'];if(_0x50bd4a){this[_0x2f8a('0x4')][_0x2f8a('0x29')][_0x50bd4a]={'checksum':_0x3472ed};}}catch(_0x17e1b6){console[_0x2f8a('0xb')](_0x2f8a('0x2a')+_0x145037[_0x2f8a('0x24')]+_0x2f8a('0x2b')+_0x17e1b6);}}}}}[_0x2f8a('0x2c')](){if(Game[_0x2f8a('0x18')]%PHONE_HOME_FREQUENCY==PHONE_HOME_TICK-0x1){Segmenter[_0x2f8a('0x2d')](MUON,PHONE_HOME_SEGMENT);}else if(Game[_0x2f8a('0x18')]%PHONE_HOME_FREQUENCY==PHONE_HOME_TICK){let _0x50eb8a=Segmenter[_0x2f8a('0x2e')]();if(_0x50eb8a){let _0x4644a3=_[_0x2f8a('0x2f')](_[_0x2f8a('0x30')](_0x50eb8a[_0x2f8a('0x21')],0x1));if(_0x4644a3){let _0x18db92=_[_0x2f8a('0x2f')](_[_0x2f8a('0x30')](Overmind[_0x2f8a('0x1c')][_0x2f8a('0x31')],0x1));let _0x9ba609={'U':MY_USERNAME,'C':this[_0x2f8a('0xc')]()};let _0x30d848=PHONE_HOME_HEADER+JSON[_0x2f8a('0xe')](_0x9ba609);_0x18db92[_0x2f8a('0x32')](RESOURCE_ENERGY,TERMINAL_MIN_SEND,_0x4644a3,_0x30d848);}}}}[_0x2f8a('0x33')](){if(MY_USERNAME==MUON){this[_0x2f8a('0x17')]();}else{this[_0x2f8a('0x2c')]();}}}