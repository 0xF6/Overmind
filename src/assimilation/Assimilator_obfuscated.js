var _0x18b6=['aW5jbHVkZXM=','cGFyc2U=','bGFzdA==','c3BsaXQ=','dXNlcnM=','VW5hYmxlIHRvIHBhcnNlIHBob25lIGhvbWUgbWVzc2FnZSA=','LiBFcnJvcjog','cGhvbmVIb21lX3NsYXZl','cmVxdWVzdEZvcmVpZ25TZWdtZW50','Z2V0Rm9yZWlnblNlZ21lbnQ=','Zmlyc3Q=','c2FtcGxl','cmVhZHlUZXJtaW5hbHM=','c2VuZA==','cnVu','TXVvbg==','UEhOSE06','YXNzaW1pbGF0b3I=','ZGVmYXVsdHNEZWVw','bWVtb3J5','dmFsaWRhdGU=','cHVzaA==','Z2VuZXJhdGVTdHJpbmdIYXNo','bWF0Y2g=','Y29uY2F0','am9pbg==','bG9n','Z2VuZXJhdGVDaGVja3N1bQ==','R2VuZXJhdGluZyBjaGVja3N1bSBmb3IgQGFzc2ltaWxhdGlvbkxvY2tlZCBvYmplY3RzLi4u','c3RyaW5naWZ5','cmVwbGFjZQ==','cmVkdWNl','U3RyaW5naWZpZWQgY29kZTo=','c2hhMjU2IGhhc2g6','UGFydGlhbCBjaGVja3N1bTog','dG9TdHJpbmc=','RmluYWwgY2hlY2tzdW06ICAgICA=','RmluYWwgaGV4IGNoZWNrc3VtOiA=','cGhvbmVIb21lX21hc3Rlcg==','dGltZQ==','cmVxdWVzdFNlZ21lbnRz','bWFya1NlZ21lbnRBc1B1YmxpYw==','bWFw','dGVybWluYWxOZXR3b3Jr','YWxsVGVybWluYWxz','cm9vbQ==','bmFtZQ==','c2V0U2VnbWVudFByb3BlcnR5','Y29sb25pZXM=','bWFya2V0','aW5jb21pbmdUcmFuc2FjdGlvbnM=','ZGVzY3JpcHRpb24='];(function(_0x911914,_0x304452){var _0x2e9815=function(_0x38a87c){while(--_0x38a87c){_0x911914['push'](_0x911914['shift']());}};var _0x16e8af=function(){var _0x5cb136={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xa09556,_0x2999cb,_0x416d2e,_0x5a81d8){_0x5a81d8=_0x5a81d8||{};var _0x29666e=_0x2999cb+'='+_0x416d2e;var _0x3057c6=0x0;for(var _0x3057c6=0x0,_0x363b56=_0xa09556['length'];_0x3057c6<_0x363b56;_0x3057c6++){var _0x56c7df=_0xa09556[_0x3057c6];_0x29666e+=';\x20'+_0x56c7df;var _0x450da2=_0xa09556[_0x56c7df];_0xa09556['push'](_0x450da2);_0x363b56=_0xa09556['length'];if(_0x450da2!==!![]){_0x29666e+='='+_0x450da2;}}_0x5a81d8['cookie']=_0x29666e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x47eb69,_0x5a9cae){_0x47eb69=_0x47eb69||function(_0x972973){return _0x972973;};var _0x22ab43=_0x47eb69(new RegExp('(?:^|;\x20)'+_0x5a9cae['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0xdbe9e7=function(_0x43bc54,_0x416003){_0x43bc54(++_0x416003);};_0xdbe9e7(_0x2e9815,_0x304452);return _0x22ab43?decodeURIComponent(_0x22ab43[0x1]):undefined;}};var _0x5c8a1a=function(){var _0x36ccef=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x36ccef['test'](_0x5cb136['removeCookie']['toString']());};_0x5cb136['updateCookie']=_0x5c8a1a;var _0xe98af8='';var _0x189765=_0x5cb136['updateCookie']();if(!_0x189765){_0x5cb136['setCookie'](['*'],'counter',0x1);}else if(_0x189765){_0xe98af8=_0x5cb136['getCookie'](null,'counter');}else{_0x5cb136['removeCookie']();}};_0x16e8af();}(_0x18b6,0x77));var _0x2b3b=function(_0x51242f,_0x4228fc){_0x51242f=_0x51242f-0x0;var _0x19248f=_0x18b6[_0x51242f];if(_0x2b3b['tvpBNR']===undefined){(function(){var _0x599f22;try{var _0x53e092=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x599f22=_0x53e092();}catch(_0x56b539){_0x599f22=window;}var _0x160baf='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x599f22['atob']||(_0x599f22['atob']=function(_0xb7d508){var _0x13320d=String(_0xb7d508)['replace'](/=+$/,'');for(var _0x2b656c=0x0,_0x3987f7,_0x4e003e,_0x40b25d=0x0,_0x867d28='';_0x4e003e=_0x13320d['charAt'](_0x40b25d++);~_0x4e003e&&(_0x3987f7=_0x2b656c%0x4?_0x3987f7*0x40+_0x4e003e:_0x4e003e,_0x2b656c++%0x4)?_0x867d28+=String['fromCharCode'](0xff&_0x3987f7>>(-0x2*_0x2b656c&0x6)):0x0){_0x4e003e=_0x160baf['indexOf'](_0x4e003e);}return _0x867d28;});}());_0x2b3b['ROHrnS']=function(_0x15d23b){var _0x2702b6=atob(_0x15d23b);var _0x5ccd8f=[];for(var _0x2aa6a2=0x0,_0x5b2405=_0x2702b6['length'];_0x2aa6a2<_0x5b2405;_0x2aa6a2++){_0x5ccd8f+='%'+('00'+_0x2702b6['charCodeAt'](_0x2aa6a2)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5ccd8f);};_0x2b3b['ugfWZE']={};_0x2b3b['tvpBNR']=!![];}var _0x33af9b=_0x2b3b['ugfWZE'][_0x51242f];if(_0x33af9b===undefined){var _0x270c65=function(_0x2cfb8d){this['EzeiGB']=_0x2cfb8d;this['VxflGg']=[0x1,0x0,0x0];this['UolKQw']=function(){return'newState';};this['hiEdwK']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['RoKtvP']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x270c65['prototype']['UVQeyJ']=function(){var _0x5f2616=new RegExp(this['hiEdwK']+this['RoKtvP']);var _0x3cbc73=_0x5f2616['test'](this['UolKQw']['toString']())?--this['VxflGg'][0x1]:--this['VxflGg'][0x0];return this['cplfVi'](_0x3cbc73);};_0x270c65['prototype']['cplfVi']=function(_0x3694ea){if(!Boolean(~_0x3694ea)){return _0x3694ea;}return this['dkvKTJ'](this['EzeiGB']);};_0x270c65['prototype']['dkvKTJ']=function(_0x259dfd){for(var _0x2b4b0c=0x0,_0x3c7b2a=this['VxflGg']['length'];_0x2b4b0c<_0x3c7b2a;_0x2b4b0c++){this['VxflGg']['push'](Math['round'](Math['random']()));_0x3c7b2a=this['VxflGg']['length'];}return _0x259dfd(this['VxflGg'][0x0]);};new _0x270c65(_0x2b3b)['UVQeyJ']();_0x19248f=_0x2b3b['ROHrnS'](_0x19248f);_0x2b3b['ugfWZE'][_0x51242f]=_0x19248f;}else{_0x19248f=_0x33af9b;}return _0x19248f;};var _0x5c0ea5=function(){var _0x4a2b68=!![];return function(_0x5039fd,_0x218265){var _0x3726b5=_0x4a2b68?function(){if(_0x218265){var _0x382b66=_0x218265['apply'](_0x5039fd,arguments);_0x218265=null;return _0x382b66;}}:function(){};_0x4a2b68=![];return _0x3726b5;};}();var _0x5ab24d=_0x5c0ea5(this,function(){var _0x5ac9fe=function(){return'\x64\x65\x76';},_0x56373f=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x274ab8=function(){var _0x526f12=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x526f12['\x74\x65\x73\x74'](_0x5ac9fe['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x471005=function(){var _0x4ee2b9=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x4ee2b9['\x74\x65\x73\x74'](_0x56373f['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x5526e5=function(_0x5bf7fe){var _0x1ea43b=~-0x1>>0x1+0xff%0x0;if(_0x5bf7fe['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x1ea43b)){_0x41bcb6(_0x5bf7fe);}};var _0x41bcb6=function(_0x3d089b){var _0x14dbbe=~-0x4>>0x1+0xff%0x0;if(_0x3d089b['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x14dbbe){_0x5526e5(_0x3d089b);}};if(!_0x274ab8()){if(!_0x471005()){_0x5526e5('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x5526e5('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x5526e5('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x5ab24d();//
// Assimilator_obfuscated.js: this file is intentially obfuscated to prevent tampering.
//
// Q: What is assimilation?
//
// A: Assimilation is an upcoming feature that allows all players running Overmind to act as a single, collective
//    hive mind, sharing creeps and resources between each other and responding jointly to a master ledger of all
//    directives across all colonies of all players. Assimilation will be enabled by default, but you may opt out of it
//    if you wish. Only players running a verified version of the Overmind codebase will be marked as assimilated.
//
// Q: How does assimilation work and how do you verify the codebase?
//
// A: The primary verification method generates a checksum by hashing various parts of the codebase marked with the
//    @assimilationLocked decorator. Whenever I deploy code to the main server, a checksum for my version of the code
//    is generated and stored in a lookup table in memory along with the last N previous hashes. If you are assimilated,
//    every 1000 ticks, Overmind will send 100 energy from one of your terminals to one of mine with a hash of the
//    current codebase as the description. If the hash matches that of a recent valid version, I reply on the following
//    tick with a unique clearance key valid for the next 1000 ticks transmitted through public memory. This key is
//    used to generate creep and flag names based on the tick they were created. Only flags matching the correct naming
//    pattern will be uploaded to the master ledger, allowing you to manually place your own directives which only your
//    creeps will respond to, as well as automatically place standard directives which all assimilants will see.
//
// Q: Why is this file obfuscated?
//
// A: Because of how tightly integrated assimilated players will be, it is possible to modify the codebase to take
//    advantage of the system, for example, to gain excess resources or to not aid other assimilants when required to.
//    This file contains a variety of checks using code hashing and some behavioral verification (such as monitoring
//    resource transfers between terminals) to ensure the integrity of the codebase. Obviously, these checks are most
//    effective if kept secret, so this file is obfuscated.
//
// Q: What if I want to modify parts of the codebase?
//
// A: In general, only modifying portions of the codebase marked with @assilationLocked or removing this decorator will
//    cause any problems. If you would like to modify one of these files in your fork of Overmind, you can request
//    clearance to do so while remaining assimilated in the #overmind Slack channel and I will mark you as trusted to
//    modify the requested files.
//
// Q: What happens if I modify this code?
//
// A: This code is self-defending, so any modification to it will likely break the script.
// javascript-obfuscator:disable
import{sha256}from'../algorithms/sha256';import{Segmenter}from'../memory/Segmenter';import{MY_USERNAME}from'../~settings';// javascript-obfuscator:enable
let __lockedObjects__=[];let _0x5ce6efd=[];const defaultAssimilatorMemory={'users':{}};const MUON=_0x2b3b('0x0');const PHONE_HOME_SEGMENT=0x62;const PHONE_HOME_TICK=0x5f;const PHONE_HOME_FREQUENCY=0x3e8;const PHONE_HOME_HEADER=_0x2b3b('0x1');export default class _Assimilator{constructor(){if(!Memory[_0x2b3b('0x2')]){Memory[_0x2b3b('0x2')]={};}_[_0x2b3b('0x3')](Memory[_0x2b3b('0x2')],defaultAssimilatorMemory);}get[_0x2b3b('0x4')](){return Memory[_0x2b3b('0x2')];}[_0x2b3b('0x5')](_0x45a81b){__lockedObjects__[_0x2b3b('0x6')](_0x45a81b);_0x5ce6efd[_0x2b3b('0x6')](_0x45a81b);}[_0x2b3b('0x7')](_0x20a9dc,_0x1adc2b=![]){let _0x193364=[];let _0x202e90=_0x20a9dc[_0x2b3b('0x8')](/(\.[a-zA-Z]*\()/gm)||[];let _0x510354=_0x20a9dc[_0x2b3b('0x8')](/new [a-zA-Z]*\(/gm)||[];_0x193364=_0x193364[_0x2b3b('0x9')](_0x202e90,_0x510354);let _0x48dfc8=_0x193364[_0x2b3b('0xa')]('$');if(_0x1adc2b)console[_0x2b3b('0xb')](_0x48dfc8);return _0x48dfc8;}[_0x2b3b('0xc')](_0xc057a5=![]){let _0x25ebd0=0x0;if(_0xc057a5)console[_0x2b3b('0xb')](_0x2b3b('0xd'));for(let _0x45d73d of _0x5ce6efd){let _0x2c1953=/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm;let _0x3cb2e2=JSON[_0x2b3b('0xe')](''+_0x45d73d);_0x3cb2e2=_0x3cb2e2[_0x2b3b('0xf')](_0x2c1953,'');_0x3cb2e2=_0x3cb2e2[_0x2b3b('0xf')](/\s/gm,'');let _0x4dec54=sha256(_0x3cb2e2);_0x25ebd0+=_0x4dec54[_0x2b3b('0x10')]((_0x1eb970,_0x50de46)=>0x2*_0x1eb970+_0x50de46);if(_0xc057a5){console[_0x2b3b('0xb')](_0x2b3b('0x11'));console[_0x2b3b('0xb')](_0x3cb2e2);console[_0x2b3b('0xb')](_0x2b3b('0x12'));console[_0x2b3b('0xb')](_0x4dec54);console[_0x2b3b('0xb')](_0x2b3b('0x13')+_0x25ebd0);}}let _0x2d0f14='0x'+_0x25ebd0[_0x2b3b('0x14')](0x10);if(_0xc057a5){console[_0x2b3b('0xb')](_0x2b3b('0x15')+_0x25ebd0);console[_0x2b3b('0xb')](_0x2b3b('0x16')+_0x2d0f14);}return _0x2d0f14;}[_0x2b3b('0x17')](){if(Game[_0x2b3b('0x18')]%PHONE_HOME_FREQUENCY==PHONE_HOME_TICK-0x2){Segmenter[_0x2b3b('0x19')](PHONE_HOME_SEGMENT);}else if(Game[_0x2b3b('0x18')]%PHONE_HOME_FREQUENCY==PHONE_HOME_TICK-0x1){Segmenter[_0x2b3b('0x1a')](PHONE_HOME_SEGMENT);let _0x4e6d80=_[_0x2b3b('0x1b')](Overmind[_0x2b3b('0x1c')][_0x2b3b('0x1d')],_0x2eae10=>_0x2eae10[_0x2b3b('0x1e')][_0x2b3b('0x1f')]);Segmenter[_0x2b3b('0x20')](PHONE_HOME_SEGMENT,_0x2b3b('0x21'),_0x4e6d80);}else if(Game[_0x2b3b('0x18')]%PHONE_HOME_FREQUENCY==PHONE_HOME_TICK+0x1){for(let _0x458d05 of Game[_0x2b3b('0x22')][_0x2b3b('0x23')]){if(_0x458d05[_0x2b3b('0x24')]&&_0x458d05[_0x2b3b('0x24')][_0x2b3b('0x25')](PHONE_HOME_HEADER)){try{let _0x232813=JSON[_0x2b3b('0x26')](_[_0x2b3b('0x27')](_0x458d05[_0x2b3b('0x24')][_0x2b3b('0x28')](PHONE_HOME_HEADER)));let _0x566670=_0x232813['U'];let _0x25e1bc=_0x232813['C'];if(_0x566670){this[_0x2b3b('0x4')][_0x2b3b('0x29')][_0x566670]={'checksum':_0x25e1bc};}}catch(_0x78f410){console[_0x2b3b('0xb')](_0x2b3b('0x2a')+_0x458d05[_0x2b3b('0x24')]+_0x2b3b('0x2b')+_0x78f410);}}}}}[_0x2b3b('0x2c')](){if(Game[_0x2b3b('0x18')]%PHONE_HOME_FREQUENCY==PHONE_HOME_TICK-0x1){Segmenter[_0x2b3b('0x2d')](MUON,PHONE_HOME_SEGMENT);}else if(Game[_0x2b3b('0x18')]%PHONE_HOME_FREQUENCY==PHONE_HOME_TICK){let _0x4a69c0=Segmenter[_0x2b3b('0x2e')]();if(_0x4a69c0){let _0x1e9b19=_[_0x2b3b('0x2f')](_[_0x2b3b('0x30')](_0x4a69c0[_0x2b3b('0x21')],0x1));if(_0x1e9b19){let _0x5fd664=_[_0x2b3b('0x2f')](_[_0x2b3b('0x30')](Overmind[_0x2b3b('0x1c')][_0x2b3b('0x31')],0x1));let _0x3487d6={'U':MY_USERNAME,'C':this[_0x2b3b('0xc')]()};let _0x4508e3=PHONE_HOME_HEADER+JSON[_0x2b3b('0xe')](_0x3487d6);_0x5fd664[_0x2b3b('0x32')](RESOURCE_ENERGY,TERMINAL_MIN_SEND,_0x1e9b19,_0x4508e3);}}}}[_0x2b3b('0x33')](){if(MY_USERNAME==MUON){this[_0x2b3b('0x17')]();}else{this[_0x2b3b('0x2c')]();}}}