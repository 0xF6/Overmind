var _0x34f2=['TXVvbg==','UEhOSE06','YXNzaW1pbGF0b3I=','ZGVmYXVsdHNEZWVw','bWVtb3J5','dmFsaWRhdGU=','cHVzaA==','Z2VuZXJhdGVTdHJpbmdIYXNo','bWF0Y2g=','Y29uY2F0','am9pbg==','bG9n','Z2VuZXJhdGVDaGVja3N1bQ==','R2VuZXJhdGluZyBjaGVja3N1bSBmb3IgQGFzc2ltaWxhdGlvbkxvY2tlZCBvYmplY3RzLi4u','c3RyaW5naWZ5','cmVwbGFjZQ==','cmVkdWNl','U3RyaW5naWZpZWQgY29kZTo=','c2hhMjU2IGhhc2g6','UGFydGlhbCBjaGVja3N1bTog','dG9TdHJpbmc=','RmluYWwgY2hlY2tzdW06ICAgICA=','RmluYWwgaGV4IGNoZWNrc3VtOiA=','cGhvbmVIb21lX21hc3Rlcg==','dGltZQ==','cmVxdWVzdFNlZ21lbnRz','bWFya1NlZ21lbnRBc1B1YmxpYw==','bWFw','dGVybWluYWxOZXR3b3Jr','YWxsVGVybWluYWxz','cm9vbQ==','bmFtZQ==','c2V0U2VnbWVudFByb3BlcnR5','Y29sb25pZXM=','bWFya2V0','aW5jb21pbmdUcmFuc2FjdGlvbnM=','ZGVzY3JpcHRpb24=','aW5jbHVkZXM=','cGFyc2U=','bGFzdA==','c3BsaXQ=','dXNlcnM=','VW5hYmxlIHRvIHBhcnNlIHBob25lIGhvbWUgbWVzc2FnZSA=','LiBFcnJvcjog','cGhvbmVIb21lX3NsYXZl','cmVxdWVzdEZvcmVpZ25TZWdtZW50','Z2V0Rm9yZWlnblNlZ21lbnQ=','Zmlyc3Q=','c2FtcGxl','cmVhZHlUZXJtaW5hbHM=','c2VuZA==','cnVu'];(function(_0x4db238,_0x2cddb5){var _0x4a9ab5=function(_0x2310f0){while(--_0x2310f0){_0x4db238['push'](_0x4db238['shift']());}};var _0x18d845=function(){var _0x1cbbad={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5e67e2,_0x75037b,_0x5d3f29,_0x4a10dc){_0x4a10dc=_0x4a10dc||{};var _0x253eab=_0x75037b+'='+_0x5d3f29;var _0x4ad6e5=0x0;for(var _0x4ad6e5=0x0,_0x10d1ce=_0x5e67e2['length'];_0x4ad6e5<_0x10d1ce;_0x4ad6e5++){var _0x265492=_0x5e67e2[_0x4ad6e5];_0x253eab+=';\x20'+_0x265492;var _0x458678=_0x5e67e2[_0x265492];_0x5e67e2['push'](_0x458678);_0x10d1ce=_0x5e67e2['length'];if(_0x458678!==!![]){_0x253eab+='='+_0x458678;}}_0x4a10dc['cookie']=_0x253eab;},'removeCookie':function(){return'dev';},'getCookie':function(_0xd533a9,_0x336340){_0xd533a9=_0xd533a9||function(_0x30c740){return _0x30c740;};var _0x353992=_0xd533a9(new RegExp('(?:^|;\x20)'+_0x336340['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x1ac512=function(_0x32af75,_0x12818e){_0x32af75(++_0x12818e);};_0x1ac512(_0x4a9ab5,_0x2cddb5);return _0x353992?decodeURIComponent(_0x353992[0x1]):undefined;}};var _0x3104e6=function(){var _0x4cacd0=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4cacd0['test'](_0x1cbbad['removeCookie']['toString']());};_0x1cbbad['updateCookie']=_0x3104e6;var _0x45c1fc='';var _0x4e1b3c=_0x1cbbad['updateCookie']();if(!_0x4e1b3c){_0x1cbbad['setCookie'](['*'],'counter',0x1);}else if(_0x4e1b3c){_0x45c1fc=_0x1cbbad['getCookie'](null,'counter');}else{_0x1cbbad['removeCookie']();}};_0x18d845();}(_0x34f2,0x1a0));var _0x2037=function(_0x1b3f17,_0x180bb5){_0x1b3f17=_0x1b3f17-0x0;var _0x1ec5b6=_0x34f2[_0x1b3f17];if(_0x2037['cznwPd']===undefined){(function(){var _0x536889=function(){var _0x3082af;try{_0x3082af=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2479e8){_0x3082af=window;}return _0x3082af;};var _0x497f69=_0x536889();var _0x574fd5='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x497f69['atob']||(_0x497f69['atob']=function(_0x552fb5){var _0x186c6a=String(_0x552fb5)['replace'](/=+$/,'');for(var _0x525e6d=0x0,_0x3232d8,_0x23e5e1,_0x123c50=0x0,_0x5805ce='';_0x23e5e1=_0x186c6a['charAt'](_0x123c50++);~_0x23e5e1&&(_0x3232d8=_0x525e6d%0x4?_0x3232d8*0x40+_0x23e5e1:_0x23e5e1,_0x525e6d++%0x4)?_0x5805ce+=String['fromCharCode'](0xff&_0x3232d8>>(-0x2*_0x525e6d&0x6)):0x0){_0x23e5e1=_0x574fd5['indexOf'](_0x23e5e1);}return _0x5805ce;});}());_0x2037['FWATeK']=function(_0x5c1bbb){var _0x29aac3=atob(_0x5c1bbb);var _0x21ef66=[];for(var _0x3b8f0a=0x0,_0x3f7c55=_0x29aac3['length'];_0x3b8f0a<_0x3f7c55;_0x3b8f0a++){_0x21ef66+='%'+('00'+_0x29aac3['charCodeAt'](_0x3b8f0a)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x21ef66);};_0x2037['LQQcJB']={};_0x2037['cznwPd']=!![];}var _0x143692=_0x2037['LQQcJB'][_0x1b3f17];if(_0x143692===undefined){var _0x41eb98=function(_0x47cf04){this['sQyvSa']=_0x47cf04;this['FEoRsR']=[0x1,0x0,0x0];this['zzMsQi']=function(){return'newState';};this['QhGtNY']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['sCeRqm']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x41eb98['prototype']['PELrDv']=function(){var _0x4cc71d=new RegExp(this['QhGtNY']+this['sCeRqm']);var _0x4b61f1=_0x4cc71d['test'](this['zzMsQi']['toString']())?--this['FEoRsR'][0x1]:--this['FEoRsR'][0x0];return this['mqgFPq'](_0x4b61f1);};_0x41eb98['prototype']['mqgFPq']=function(_0x444b84){if(!Boolean(~_0x444b84)){return _0x444b84;}return this['tEBVwC'](this['sQyvSa']);};_0x41eb98['prototype']['tEBVwC']=function(_0x4351a3){for(var _0x2683ce=0x0,_0x49b748=this['FEoRsR']['length'];_0x2683ce<_0x49b748;_0x2683ce++){this['FEoRsR']['push'](Math['round'](Math['random']()));_0x49b748=this['FEoRsR']['length'];}return _0x4351a3(this['FEoRsR'][0x0]);};new _0x41eb98(_0x2037)['PELrDv']();_0x1ec5b6=_0x2037['FWATeK'](_0x1ec5b6);_0x2037['LQQcJB'][_0x1b3f17]=_0x1ec5b6;}else{_0x1ec5b6=_0x143692;}return _0x1ec5b6;};var _0x38b5b9=function(){var _0x540dac=!![];return function(_0xac776e,_0x55dea1){var _0x5d6000=_0x540dac?function(){if(_0x55dea1){var _0x4e2abc=_0x55dea1['apply'](_0xac776e,arguments);_0x55dea1=null;return _0x4e2abc;}}:function(){};_0x540dac=![];return _0x5d6000;};}();var _0xcfc7c9=_0x38b5b9(this,function(){var _0x295dbe=function(){return'\x64\x65\x76';},_0x3d986c=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x2428c5=function(){var _0x321762=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x321762['\x74\x65\x73\x74'](_0x295dbe['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x46edf8=function(){var _0x44da6d=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x44da6d['\x74\x65\x73\x74'](_0x3d986c['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x29ec52=function(_0x6fe193){var _0x2fac67=~-0x1>>0x1+0xff%0x0;if(_0x6fe193['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x2fac67)){_0x17fa8c(_0x6fe193);}};var _0x17fa8c=function(_0x1f73f2){var _0x515d8a=~-0x4>>0x1+0xff%0x0;if(_0x1f73f2['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x515d8a){_0x29ec52(_0x1f73f2);}};if(!_0x2428c5()){if(!_0x46edf8()){_0x29ec52('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x29ec52('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x29ec52('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0xcfc7c9();//
// Assimilator_obfuscated.js: this file is intentially obfuscated to prevent tampering.
//
// Q: What is assimilation?
//
// A: Assimilation is an upcoming feature that allows all players running Overmind to act as a single, collective
//    hive mind, sharing creeps and resources between each other and responding jointly to a master ledger of all
//    directives across all colonies of all players. Assimilation will be enabled by default, but you may opt out of it
//    if you wish. Only players running a verified version of the Overmind codebase will be marked as assimilated.
//
// Q: How does assimilation work and how do you verify the codebase?
//
// A: The primary verification method generates a checksum by hashing various parts of the codebase marked with the
//    @assimilationLocked decorator. Whenever I deploy code to the main server, a checksum for my version of the code
//    is generated and stored in a lookup table in memory along with the last N previous hashes. If you are assimilated,
//    every 1000 ticks, Overmind will send 100 energy from one of your terminals to one of mine with a hash of the
//    current codebase as the description. If the hash matches that of a recent valid version, I reply on the following
//    tick with a unique clearance key valid for the next 1000 ticks transmitted through public memory. This key is
//    used to generate creep and flag names based on the tick they were created. Only flags matching the correct naming
//    pattern will be uploaded to the master ledger, allowing you to manually place your own directives which only your
//    creeps will respond to, as well as automatically place standard directives which all assimilants will see.
//
// Q: Why is this file obfuscated?
//
// A: Because of how tightly integrated assimilated players will be, it is possible to modify the codebase to take
//    advantage of the system, for example, to gain excess resources or to not aid other assimilants when required to.
//    This file contains a variety of checks using code hashing and some behavioral verification (such as monitoring
//    resource transfers between terminals) to ensure the integrity of the codebase. Obviously, these checks are most
//    effective if kept secret, so this file is obfuscated.
//
// Q: What if I want to modify parts of the codebase?
//
// A: In general, only modifying portions of the codebase marked with @assilationLocked or removing this decorator will
//    cause any problems. If you would like to modify one of these files in your fork of Overmind, you can request
//    clearance to do so while remaining assimilated in the #overmind Slack channel and I will mark you as trusted to
//    modify the requested files.
//
// Q: What happens if I modify this code?
//
// A: This code is self-defending, so any modification to it will likely break the script.
// javascript-obfuscator:disable
import{sha256}from'../algorithms/sha256';import{Segmenter}from'../memory/Segmenter';import{MY_USERNAME}from'../~settings';// javascript-obfuscator:enable
let __lockedObjects__=[];let _0x5ce6efd=[];const defaultAssimilatorMemory={'users':{}};const MUON=_0x2037('0x0');const PHONE_HOME_SEGMENT=0x62;const PHONE_HOME_TICK=0x5f;const PHONE_HOME_FREQUENCY=0x3e8;const PHONE_HOME_HEADER=_0x2037('0x1');export default class _Assimilator{constructor(){if(!Memory[_0x2037('0x2')]){Memory[_0x2037('0x2')]={};}_[_0x2037('0x3')](Memory[_0x2037('0x2')],defaultAssimilatorMemory);}get[_0x2037('0x4')](){return Memory[_0x2037('0x2')];}[_0x2037('0x5')](_0x11c53a){__lockedObjects__[_0x2037('0x6')](_0x11c53a);_0x5ce6efd[_0x2037('0x6')](_0x11c53a);}[_0x2037('0x7')](_0x2f0072,_0x4f0b76=![]){let _0x2439f3=[];let _0x2d2ea8=_0x2f0072[_0x2037('0x8')](/(\.[a-zA-Z]*\()/gm)||[];let _0x23d948=_0x2f0072[_0x2037('0x8')](/new [a-zA-Z]*\(/gm)||[];_0x2439f3=_0x2439f3[_0x2037('0x9')](_0x2d2ea8,_0x23d948);let _0x3f9242=_0x2439f3[_0x2037('0xa')]('$');if(_0x4f0b76)console[_0x2037('0xb')](_0x3f9242);return _0x3f9242;}[_0x2037('0xc')](_0x1eea6f=![]){let _0x22e1f1=0x0;if(_0x1eea6f)console[_0x2037('0xb')](_0x2037('0xd'));for(let _0x422a46 of _0x5ce6efd){let _0x119837=/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm;let _0x68e11e=JSON[_0x2037('0xe')](''+_0x422a46);_0x68e11e=_0x68e11e[_0x2037('0xf')](_0x119837,'');_0x68e11e=_0x68e11e[_0x2037('0xf')](/\s/gm,'');let _0x3ba5fd=sha256(_0x68e11e);_0x22e1f1+=_0x3ba5fd[_0x2037('0x10')]((_0x52fd87,_0x906243)=>0x2*_0x52fd87+_0x906243);if(_0x1eea6f){console[_0x2037('0xb')](_0x2037('0x11'));console[_0x2037('0xb')](_0x68e11e);console[_0x2037('0xb')](_0x2037('0x12'));console[_0x2037('0xb')](_0x3ba5fd);console[_0x2037('0xb')](_0x2037('0x13')+_0x22e1f1);}}let _0xae5c58='0x'+_0x22e1f1[_0x2037('0x14')](0x10);if(_0x1eea6f){console[_0x2037('0xb')](_0x2037('0x15')+_0x22e1f1);console[_0x2037('0xb')](_0x2037('0x16')+_0xae5c58);}return _0xae5c58;}[_0x2037('0x17')](){if(Game[_0x2037('0x18')]%PHONE_HOME_FREQUENCY==PHONE_HOME_TICK-0x2){Segmenter[_0x2037('0x19')](PHONE_HOME_SEGMENT);}else if(Game[_0x2037('0x18')]%PHONE_HOME_FREQUENCY==PHONE_HOME_TICK-0x1){Segmenter[_0x2037('0x1a')](PHONE_HOME_SEGMENT);let _0x22d447=_[_0x2037('0x1b')](Overmind[_0x2037('0x1c')][_0x2037('0x1d')],_0x4a3856=>_0x4a3856[_0x2037('0x1e')][_0x2037('0x1f')]);Segmenter[_0x2037('0x20')](PHONE_HOME_SEGMENT,_0x2037('0x21'),_0x22d447);}else if(Game[_0x2037('0x18')]%PHONE_HOME_FREQUENCY==PHONE_HOME_TICK+0x1){for(let _0x50a437 of Game[_0x2037('0x22')][_0x2037('0x23')]){if(_0x50a437[_0x2037('0x24')]&&_0x50a437[_0x2037('0x24')][_0x2037('0x25')](PHONE_HOME_HEADER)){try{let _0xee4b8c=JSON[_0x2037('0x26')](_[_0x2037('0x27')](_0x50a437[_0x2037('0x24')][_0x2037('0x28')](PHONE_HOME_HEADER)));let _0x219a44=_0xee4b8c['U'];let _0x1c8edb=_0xee4b8c['C'];if(_0x219a44){this[_0x2037('0x4')][_0x2037('0x29')][_0x219a44]={'checksum':_0x1c8edb};}}catch(_0x5becfd){console[_0x2037('0xb')](_0x2037('0x2a')+_0x50a437[_0x2037('0x24')]+_0x2037('0x2b')+_0x5becfd);}}}}}[_0x2037('0x2c')](){if(Game[_0x2037('0x18')]%PHONE_HOME_FREQUENCY==PHONE_HOME_TICK-0x1){Segmenter[_0x2037('0x2d')](MUON,PHONE_HOME_SEGMENT);}else if(Game[_0x2037('0x18')]%PHONE_HOME_FREQUENCY==PHONE_HOME_TICK){let _0x4d4e49=Segmenter[_0x2037('0x2e')]();if(_0x4d4e49){let _0x561d31=_[_0x2037('0x2f')](_[_0x2037('0x30')](_0x4d4e49[_0x2037('0x21')],0x1));if(_0x561d31){let _0x3c868c=_[_0x2037('0x2f')](_[_0x2037('0x30')](Overmind[_0x2037('0x1c')][_0x2037('0x31')],0x1));let _0x34805c={'U':MY_USERNAME,'C':this[_0x2037('0xc')]()};let _0x4d292b=PHONE_HOME_HEADER+JSON[_0x2037('0xe')](_0x34805c);_0x3c868c[_0x2037('0x32')](RESOURCE_ENERGY,TERMINAL_MIN_SEND,_0x561d31,_0x4d292b);}}}}[_0x2037('0x33')](){if(MY_USERNAME==MUON){this[_0x2037('0x17')]();}else{this[_0x2037('0x2c')]();}}}